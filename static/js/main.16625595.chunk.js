(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(37),c=a(38),s=a(41),u=a(39),m=a(42),d=a(16),h=a.n(d),f=a(31),g=a.n(f),E=a(24),p=a.n(E),v=a(18),b=a.n(v);a(32);var k=function(e){var t=e.mainParent;return r.a.createElement(p.a,{bg:"light",expand:"lg"},r.a.createElement(p.a.Brand,{href:"#home",onClick:function(){return t.setState({currentPage:"home"})}},"\u041c\u041c\u0412\u0411 \u0410\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),r.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},r.a.createElement(g.a.Link,{href:"#home",onClick:function(){return t.setState({currentPage:"#home"})}},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(g.a.Link,{href:"#link",onClick:function(){return t.setState({currentPage:"#link"})}},"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),r.a.createElement(g.a.Link,{href:"#issuers",onClick:function(e){return t.setState({currentPage:"#issuers"})}},"\u042d\u043c\u0438\u0442\u0435\u0442\u043d\u044b"),r.a.createElement(b.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",id:"basic-nav-dropdown"},r.a.createElement(b.a.Item,{href:"#action/3.1",onClick:function(e){return t.setState({currentPage:"#action/3.1"})}},"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 / \u043f\u0440\u043e\u0434\u0430\u0436\u0430"),r.a.createElement(b.a.Item,{href:"#region",onClick:function(e){return t.setState({currentPage:"#region"})}},"\u0420\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424)"),r.a.createElement(b.a.Item,{href:"#action/3.2",onClick:function(e){return t.setState({currentPage:"#action/3.2"})}},"\u0415\u0449\u0451 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"),r.a.createElement(b.a.Item,{href:"#action/3.3"},"\u0418 \u0435\u0449\u0451 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"),r.a.createElement(b.a.Divider,null),r.a.createElement(b.a.Item,{href:"#action/3.4",onClick:function(e){return t.setState({currentPage:"#action/3.1"})}},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u042d\u043c\u0438\u0442\u0435\u043d\u0442\u0430\u043c\u0438"))),!t.state.isLogin&&r.a.createElement(h.a,{variant:"outline-success",href:t.state.loginUrl},"Log In"),t.state.isLogin&&r.a.createElement(p.a.Brand,null,"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439 ",t.state.userName),t.state.isLogin&&r.a.createElement(h.a,{variant:"outline-success",href:t.state.logoutUrl},"Log Out")))},y=a(40),x=a.n(y),C=a(20),S=a(88),P=a.n(S),w=a(11),j=a.n(w),q=a(19),D=a.n(q),L=a(25),N=a.n(L),O=(a(128),function(e){function t(e,a){var n;Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).cardData=e.addCardData,n.mainParent=e.mainParent,n.handleShow=n.handleShow.bind(Object(C.a)(Object(C.a)(n))),n.handleClose=n.handleClose.bind(Object(C.a)(Object(C.a)(n))),n.refForm=r.a.createRef(),n.refErrors=r.a.createRef();var l={};return n.cardData.fields.forEach(function(e,t,a){l[e.name]=e.value}),n.initalState={formData:l,formValidated:!1,formErrors:"",showAddModal:!1},n.state=n.initalState,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.setState(this.initalState)}},{key:"handleShow",value:function(){this.setState({showAddModal:!0})}},{key:"changeFormValues",value:function(e){var t=Object.assign({},this.state.formData);t[e.target.id]=e.target.value,this.setState({formData:t});var a=this.refForm.current;if(!0===a.checkValidity())this.setState({formValidated:!0,formErrors:""});else{var n=[];this.setState({formValidated:!1});for(var l=a.length,i=0;i<l;i++){var o=a[i];"button"!==o.nodeName.toLowerCase()&&!o.validity.valid&&o.labels.length&&n.push([o.labels[0].htmlFor,o.labels[0].textContent+" - "+o.validationMessage])}var c=n.map(function(e){return r.a.createElement("div",{key:e[0]},e[1])});this.setState({formErrors:c})}}},{key:"handleSubmit",value:function(e){if(!0===this.refForm.current.checkValidity()){console.log("\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u044c \u0444\u043e\u0440\u043c\u0443"),console.log("state",this.state);fetch(this.cardData.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state.formData)}).then(function(e){if(200===e.status)return e.json()}).then(function(e){}).then(function(e){}).catch(function(e){console.log("parsing failed",e)})}}},{key:"renterField",value:function(e){var t,a=this;return"text"===e.type&&(t=r.a.createElement(D.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",type:"text",value:this.state.formData[e.name]})),"url"===e.type?t=r.a.createElement(D.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||"",required:e.required||"",type:"url",value:this.state.formData[e.name]}):"textarea"===e.type&&(t=r.a.createElement(D.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",as:"textarea",rows:e.rows||"3",value:this.state.formData[e.name]})),r.a.createElement("div",{key:e.name},r.a.createElement(D.a.Group,{controlId:e.name},r.a.createElement(D.a.Label,{className:e.required?"required-true":""},e.label),t))}},{key:"render",value:function(){var e=this,t=this.cardData.fields.map(function(t){return e.renterField(t)});return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{border:"primary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(j.a.Body,{className:"text-center"},r.a.createElement(j.a.Link,{href:this.mainParent.state.currentPage,onClick:this.handleShow},r.a.createElement(j.a.Header,null,this.cardData.titleCard),r.a.createElement(j.a.Img,{variant:"null",src:"static/images/plus_01.gif"})))),r.a.createElement(N.a,{show:this.state.showAddModal,onHide:this.handleClose,backdrop:"static"},r.a.createElement(N.a.Header,{closeButton:!0},r.a.createElement(N.a.Title,null,this.cardData.titleForm)),r.a.createElement(N.a.Body,null,r.a.createElement(D.a,{validated:this.state.formValidated,ref:this.refForm},t,r.a.createElement(D.a.Text,null,r.a.createElement(P.a,{variant:this.state.formValidated?"success":"danger"},"* \u042d\u0442\u0438 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),r.a.createElement("div",{ref:this.refErrors},this.state.formErrors))))),r.a.createElement(N.a.Footer,null,r.a.createElement(h.a,{variant:"secondary",onClick:this.handleClose},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f"),r.a.createElement(h.a,{variant:"primary",onClick:function(t){return e.handleSubmit(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(r.a.Component));var F=function(e){return e.mainParent,r.a.createElement(j.a,{border:"secondary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,"Card Title2"),r.a.createElement(j.a.Subtitle,{className:"mb-2 text-muted"},"Card Subtitle"),r.a.createElement(j.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(j.a.Link,{href:"#"},"Card Link"),r.a.createElement(j.a.Link,{href:"#"},"Another Link")))};var _=function(e){var t=e.mainParent,a=[1,2,3,4,5].map(function(e){return r.a.createElement(F,{key:e,mainParent:e})});return r.a.createElement(x.a,null,r.a.createElement(O,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",url:"api/get_session_data/current.json",fields:[{name:"longNameIssuer",label:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",required:!0,type:"text",value:""},{name:"shortNameIssuer",label:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",required:!0,type:"text",value:""},{name:"urlIssuer",label:"\u0421\u0430\u0439\u0442 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",required:!0,type:"url",value:""},{name:"region",label:"\u0420\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424)",required:!1,type:"text",value:""},{name:"address",label:"\u0410\u0434\u0440\u0435\u0441",required:!1,type:"text",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},mainParent:t}),a)},I=a(91),B=a.n(I),V=a(90),T=a.n(V),A=a(89),W=a.n(A);var M=function(e){var t=e.mainParent,a=r.a.createElement(W.a,{id:"popover-basic",title:"\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",style:{maxWidth:"75%"}},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435 \u0424\u0418\u0410\u0421. \u0410\u0440\u0445\u0438\u0432 \u043f\u043e\u043b\u043d\u043e\u0439 \u0431\u0430\u0437\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432 ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://fias.nalog.ru/"},r.a.createElement("strong",null,"\u0424\u0418\u0410\u0421"))," \u0432\u0435\u0441\u0438\u0442 6 \u0413\u0431, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0435\u0451 \u043f\u043e\u043b\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0437\u043d\u0430\u043d\u0430 \u043d\u0435\u0446\u0435\u043b\u0435\u0441\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u043e\u0439."),n=[1,2,3,4,5].map(function(e){return r.a.createElement(F,{key:e,mainParent:e})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(function(){return r.a.createElement("div",{className:"row justify-content-end",style:{margin:"5px"}},r.a.createElement(T.a,{trigger:"click",placement:"left",overlay:a},r.a.createElement(h.a,{variant:"light"},r.a.createElement(B.a,{src:"static/images/icons/info_16x16.gif"}))))},null),r.a.createElement(x.a,null,r.a.createElement(O,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0420\u0435\u0433\u0438\u043e\u043d",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424)",url:"api/region_fias/add.json",fields:[{name:"adminDivisionName",label:"\u041c\u0443\u043d\u0438\u0446\u0438\u043f\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",required:!0,type:"text",value:""},{name:"shortNameIssuer",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433 \u0433\u043e\u0440\u043e\u0434",required:!1,type:"text",value:""},{name:"codeOkato",label:"\u041a\u043e\u0434 \u041e\u041a\u0410\u0422\u041e",placeholder:"40000000000",required:!1,type:"text",value:""},{name:"codeOktmo",label:"\u041a\u043e\u0434 \u041e\u041a\u0422\u041c\u041e",placeholder:"40000000",required:!1,type:"text",value:""},{name:"codePostal",label:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",placeholder:"190000",required:!1,type:"text",value:""},{name:"stateAddressRegister",label:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u043c \u0440\u0435\u0435\u0441\u0442\u0440\u0435",placeholder:"C2DEB16A-0330-4F05-821F-1D09C93331E6",required:!1,type:"text",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},mainParent:t}),n))};var U=function(e){var t=e.mainParent;return"#issuers"===t.state.currentPage?r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(_,{mainParent:t})):"#region"===t.state.currentPage?r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(M,{mainParent:t})):r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(_,{mainParent:t}))},G=r.a.createElement("footer",{className:"blockquote-footer container-fluid"},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e ",r.a.createElement("cite",{title:"\u0418\u0432\u0430\u043d \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u0438\u0447 \u0413\u043e\u043b\u0443\u0431\u044b\u0445"},"\u0418\u0432\u0430\u043d\u043e\u043c \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u0438\u0447\u0435\u043c \u0413\u043e\u043b\u0443\u0431\u044b\u0445"),", 2019. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ivangolubykh/mmvb_accounting_backend"},"\u0442\u0443\u0442"),", \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ivangolubykh/mmvb_accounting_frontend/blob/master/LICENSE"},"GNU GPL v3.0"),"."),H={currentPage:"",isLoaded:!1,isLogin:!1,loginUrl:"api/api-auth/login/?next=/",logoutUrl:"api/api-auth/logout/",userName:""},J=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),H.currentPage=window.location.hash||"#home",a.state=H,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"resetState",value:function(){this.setState(H)}},{key:"componentDidMount",value:function(){var e=this,t=this;fetch("api/get_session_data/current.json").then(function(e){if(200===e.status)return e.json();t.resetState()}).then(function(t){t&&(e.setState({isLoaded:!0}),e.setState({isLogin:!0}),e.setState({userName:t.first_name}),e.setState({items:t}))}).then(function(a){a&&(t.resetState(),e.setState({error:a}))}).catch(function(e){console.log("parsing failed",e),t.resetState()})}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex flex-column min-vh-100"},r.a.createElement(k,{mainParent:this}),r.a.createElement(U,{mainParent:this}),G)}}]),t}(r.a.Component);i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){},92:function(e,t,a){e.exports=a(158)}},[[92,1,2]]]);
//# sourceMappingURL=main.16625595.chunk.js.map