(this.webpackJsonp2019_mmvb_accounting_frontend=this.webpackJsonp2019_mmvb_accounting_frontend||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),l=a.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(7),s=a(8),c=a(10),u=a(9),m=a(11),d=a(21),h=a(55),f=a(45),p=a(36);a(38);var v=function(e){var t=e.mainParent,a=t.state.currentPage.split("");"#"===a[0]&&(a[0]="%23"),a=a.join("");var n=t.state.loginUrl+"?next=/"+a,i=t.state.logoutUrl+"?next=/"+a;return r.a.createElement(f.a,{bg:"light",expand:"lg"},r.a.createElement(f.a.Brand,{href:"#home",onClick:function(){return t.setState({currentPage:"#home"})}},"\u041c\u041c\u0412\u0411 \u0410\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440"),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(h.a.Link,{href:"#home",onClick:function(){return t.setState({currentPage:"#home"})}},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(h.a.Link,{href:"#link",onClick:function(){return t.setState({currentPage:"#link"})}},"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"),r.a.createElement(p.a,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u043c\u0438",id:"basic-nav-dropdown"},r.a.createElement(p.a.Item,{href:"#issuers",onClick:function(e){return t.setState({currentPage:"#issuers"})}},"\u042d\u043c\u0438\u0442\u0435\u043d\u0442\u044b"),r.a.createElement(p.a.Item,{href:"#regions",onClick:function(e){return t.setState({currentPage:"#regions"})}},"\u0420\u0435\u0433\u0438\u043e\u043d\u044b (\u0441\u0443\u0431\u044a\u0435\u043a\u0442\u044b \u0420\u0424)"),r.a.createElement(p.a.Item,{href:"#brokerage_accounts",onClick:function(e){return t.setState({currentPage:"#brokerage_accounts"})}},"\u0411\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"),r.a.createElement(p.a.Item,{href:"#securities_types",onClick:function(e){return t.setState({currentPage:"#securities_types"})}},"\u0422\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433"),r.a.createElement(p.a.Divider,null),r.a.createElement(p.a.Item,{href:"#help",onClick:function(e){return t.setState({currentPage:"#help"})}},"\u041f\u043e\u043c\u043e\u0449\u044c"))),!t.state.isLogin&&r.a.createElement(d.a,{variant:"outline-success",href:n},"Log In"),t.state.isLogin&&r.a.createElement(f.a.Brand,null,"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439 ",t.state.userName),t.state.isLogin&&r.a.createElement(d.a,{variant:"outline-success",href:i},"Log Out")))},g=a(31),E=a(32),b=a(12),y=a(5),S=a(16),k=a(18);a(59);var j=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?unescape(t[2]):null},w=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).cardData=e.addCardData,a.mainParent=e.mainParent,a.parent=e.parent,a.handleShow=a.handleShow.bind(Object(b.a)(a)),a.handleClose=a.handleClose.bind(Object(b.a)(a)),a.refForm=r.a.createRef(),a.refErrors=r.a.createRef();var n={},i={};return a.cardData.fields.forEach((function(e,t,a){n[e.name]=e.value,"select"===e.type&&(i[e.name]={url:e.url,fields:e.fields,data:[{id:"",name:"-"}]})})),a.initalState={formData:n,formValidated:!1,formErrors:"",selects:i,showAddModal:!1},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object.keys(e.state.selects).forEach((function(t,a,n){var r=this;fetch(e.state.selects[t].url).then((function(t){if(200===t.status)return t.json();e.resetState()})).then((function(a){if(a){var n=[{id:"",name:"-"}];a.forEach((function(a,r,i){n.push({id:a[e.state.selects[t].fields.id],name:a[e.state.selects[t].fields.name]})}));var r={};Object.keys(e.state.selects).forEach((function(a,i,l){r[t]=a===t?{url:e.state.selects[t].url,fields:e.state.selects[t].fields,data:n}:{url:e.state.selects[t].url,fields:e.state.selects[t].fields,data:e.state.selects[t].data}})),e.setState({selects:r})}})).then((function(t){t&&(e.resetState(),r.setState({error:t}))})).catch((function(t){console.log("parsing failed",t),e.resetState()}))}))}},{key:"changeFormValues",value:function(e){var t=Object.assign({},this.state.formData);t[e.target.id]=e.target.value,this.setState({formData:t});var a=this.refForm.current;if(!0===a.checkValidity())this.setState({formValidated:!0,formErrors:""});else{var n=[];this.setState({formValidated:!1});for(var i=a.length,l=0;l<i;l++){var o=a[l];"button"!==o.nodeName.toLowerCase()&&!o.validity.valid&&o.labels.length&&n.push([o.labels[0].htmlFor,o.labels[0].textContent+" - "+o.validationMessage])}var s=n.map((function(e){return r.a.createElement("div",{key:e[0]},e[1])}));this.setState({formErrors:s})}}},{key:"handleClose",value:function(){this.setState(this.initalState)}},{key:"handleShow",value:function(){this.setState({showAddModal:!0})}},{key:"handleSubmit",value:function(e){var t=this;if(!0===this.refForm.current.checkValidity()){var a=this,n=new FormData;for(var i in this.state.formData)n.append(i,this.state.formData[i]);fetch(this.cardData.url,{method:"POST",headers:{Accept:"application/json","X-CSRFToken":j("csrftoken")},body:n}).then((function(e){return 201===e.status?(a.resetState(),void a.parent.reload()):400===e.status?e.json():void 0})).then((function(e){if(e){var n=Object.keys(e).map((function(t){return r.a.createElement("div",{key:t},e[t])}));t.setState({formErrors:n,formValidated:!1})}else a.resetState()})).then((function(e){e&&console.log("error",e)})).catch((function(e){console.log("parsing failed",e),a.resetState()}))}}},{key:"renderField",value:function(e){var t,a=this;if("text"===e.type&&(t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",type:"text",value:this.state.formData[e.name]})),"url"===e.type)t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||"",required:e.required||"",type:"url",value:this.state.formData[e.name]});else if("textarea"===e.type)t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",as:"textarea",rows:e.rows||"3",value:this.state.formData[e.name]});else if("select"===e.type){var n=this.state.selects[e.name].data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},required:e.required||"",as:"select"},n)}return r.a.createElement("div",{key:e.name},r.a.createElement(S.a.Group,{controlId:e.name},r.a.createElement(S.a.Label,{className:e.required?"required-true":""},e.label),t))}},{key:"resetState",value:function(){this.setState(this.initalState)}},{key:"render",value:function(){var e=this,t=this.cardData.fields.map((function(t){return e.renderField(t)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{border:"primary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(y.a.Body,{className:"text-center"},r.a.createElement(y.a.Link,{href:this.mainParent.state.currentPage,onClick:this.handleShow},r.a.createElement(y.a.Header,null,this.cardData.titleCard),r.a.createElement(y.a.Img,{variant:"null",src:"static/images/plus_01.gif"})))),r.a.createElement(k.a,{show:this.state.showAddModal,onHide:this.handleClose,backdrop:"static"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,this.cardData.titleForm)),r.a.createElement(k.a.Body,null,r.a.createElement(S.a,{validated:this.state.formValidated,ref:this.refForm},t,r.a.createElement(S.a.Text,null,r.a.createElement(g.a,{variant:this.state.formValidated?"success":"danger"},"* \u042d\u0442\u0438 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),r.a.createElement("div",{ref:this.refErrors},this.state.formErrors))))),r.a.createElement(k.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleClose},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f"),r.a.createElement(d.a,{variant:"primary",onClick:function(t){return e.handleSubmit(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).icon=e.icon,a.formData=e.formData,a.handleClose=a.handleClose.bind(Object(b.a)(a)),a.handleShow=a.handleShow.bind(Object(b.a)(a)),a.data_parent=e.data_parent,a.refForm=null,a.refFormFunc=function(e){e&&(a.refForm=e,a.refForm.checkValidity()?a.setState({formValidated:!0,formErrors:""}):a.setState({formValidated:!1}))},a.initalState={formValidated:!1,formErrors:"",showModal:!1},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleClose",value:function(){this.setState(this.initalState)}},{key:"handleShow",value:function(){this.setState({showModal:!0})}},{key:"handleSubmit",value:function(e){var t=this;if(!0===this.refForm.checkValidity()){var a=this,n=new FormData;n.append("destroy_model_instance",!0),fetch(this.formData.url,{method:"POST",headers:{Accept:"application/json","X-CSRFToken":j("csrftoken")},body:n}).then((function(e){if(200!==e.status&&204!==e.status)return 400===e.status?e.json():void 0;a.data_parent.reload()})).then((function(e){if(e){var a=Object.keys(e).map((function(t){return r.a.createElement("div",{key:t},e[t])}));t.setState({formErrors:a,formValidated:!1})}})).then((function(e){e&&console.log("error",e)})).catch((function(e){console.log("parsing failed",e),a.resetState()}))}}},{key:"resetState",value:function(){this.setState(this.initalState)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.handleShow,style:{margin:"3px"}},this.icon?this.icon:"",this.formData.titleLink),r.a.createElement(k.a,{show:this.state.showModal,onHide:this.handleClose,backdrop:"static"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,this.formData.titleForm)),r.a.createElement(k.a.Body,null,r.a.createElement(S.a,{validated:this.state.formValidated,ref:this.refFormFunc},this.formData.cardName,r.a.createElement(S.a.Text,null,r.a.createElement(g.a,{variant:"danger",show:!this.state.formValidated},r.a.createElement("div",{ref:this.refErrors},this.state.formErrors))))),r.a.createElement(k.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleClose},"\u041e\u0442\u043c\u0435\u043d\u0430 (\u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c)"),r.a.createElement(d.a,{variant:"primary",onClick:function(t){return e.handleSubmit(t)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),t}(r.a.Component),F=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).icon=e.icon,a.formData=e.formData,a.handleClose=a.handleClose.bind(Object(b.a)(a)),a.handleShow=a.handleShow.bind(Object(b.a)(a)),a.data_parent=e.data_parent,a.refForm=null,a.refFormFunc=function(e){e&&(a.refForm=e,a.refForm.checkValidity()?a.setState({formValidated:!0,formErrors:""}):a.setState({formValidated:!1}))};var n={},r={};return a.formData.fields.forEach((function(e,t,a){n[e.name]=e.value,"select"===e.type&&(r[e.name]={url:e.url,fields:e.fields,data:[{id:"",name:"-"}]})})),a.initalState={formData:n,formValidated:!1,formErrors:"",selects:r,showModal:!1},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object.keys(e.state.selects).forEach((function(t,a,n){var r=this;fetch(e.state.selects[t].url).then((function(t){if(200===t.status)return t.json();e.resetState()})).then((function(a){if(a){var n=[{id:"",name:"-"}];a.forEach((function(a,r,i){n.push({id:a[e.state.selects[t].fields.id],name:a[e.state.selects[t].fields.name]})}));var r={};Object.keys(e.state.selects).forEach((function(a,i,l){r[t]=a===t?{url:e.state.selects[t].url,fields:e.state.selects[t].fields,data:n}:{url:e.state.selects[t].url,fields:e.state.selects[t].fields,data:e.state.selects[t].data}})),e.setState({selects:r})}})).then((function(t){t&&(e.resetState(),r.setState({error:t}))})).catch((function(t){console.log("parsing failed",t),e.resetState()}))}))}},{key:"handleClose",value:function(){this.setState(this.initalState)}},{key:"handleShow",value:function(){this.setState({showModal:!0})}},{key:"changeFormValues",value:function(e){var t=Object.assign({},this.state.formData);t[e.target.id]=e.target.value,this.setState({formData:t});var a=this.refForm;if(!0===a.checkValidity())this.setState({formValidated:!0,formErrors:""});else{var n=[];this.setState({formValidated:!1});for(var i=a.length,l=0;l<i;l++){var o=a[l];"button"!==o.nodeName.toLowerCase()&&!o.validity.valid&&o.labels.length&&n.push([o.labels[0].htmlFor,o.labels[0].textContent+" - "+o.validationMessage])}var s=n.map((function(e){return r.a.createElement("div",{key:e[0]},e[1])}));this.setState({formErrors:s})}}},{key:"handleSubmit",value:function(e){var t=this;if(!0===this.refForm.checkValidity()){var a=this,n=new FormData;for(var i in this.state.formData)n.append(i,this.state.formData[i]);fetch(this.formData.url,{method:"POST",headers:{Accept:"application/json","X-CSRFToken":j("csrftoken")},body:n}).then((function(e){if(200!==e.status&&201!==e.status)return 400===e.status?e.json():void 0;a.data_parent.reload()})).then((function(e){if(e){var a=Object.keys(e).map((function(t){return r.a.createElement("div",{key:t},e[t])}));t.setState({formErrors:a,formValidated:!1})}})).then((function(e){e&&console.log("error",e)})).catch((function(e){console.log("parsing failed",e),a.resetState()}))}}},{key:"renderField",value:function(e){var t,a=this;if("pk"!==e.type){if("text"===e.type&&(t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",type:"text",value:this.state.formData[e.name]})),"url"===e.type)t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||"",required:e.required||"",type:"url",value:this.state.formData[e.name]});else if("textarea"===e.type)t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},placeholder:e.placeholder||e.label,required:e.required||"",as:"textarea",rows:e.rows||"3",value:this.state.formData[e.name]});else if("select"===e.type){var n=this.state.selects[e.name].data.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}));t=r.a.createElement(S.a.Control,{onChange:function(e){return a.changeFormValues(e)},required:e.required||"",as:"select"},n)}return r.a.createElement("div",{key:e.name},r.a.createElement(S.a.Group,{controlId:e.name},r.a.createElement(S.a.Label,{className:e.required?"required-true":""},e.label),t))}}},{key:"resetState",value:function(){this.setState(this.initalState)}},{key:"render",value:function(){var e=this,t=this.formData.fields.map((function(t){return e.renderField(t)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:this.handleShow,style:{margin:"3px"}},this.icon?this.icon:"",this.formData.titleLink),r.a.createElement(k.a,{show:this.state.showModal,onHide:this.handleClose,backdrop:"static"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,this.formData.titleForm)),r.a.createElement(k.a.Body,null,r.a.createElement(S.a,{validated:this.state.formValidated,ref:this.refFormFunc},t,r.a.createElement(S.a.Text,null,r.a.createElement(g.a,{variant:this.state.formValidated?"success":"danger"},"* \u042d\u0442\u0438 \u043f\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.",r.a.createElement("br",null),r.a.createElement("div",{ref:this.refErrors},this.state.formErrors))))),r.a.createElement(k.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleClose},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f"),r.a.createElement(d.a,{variant:"primary",onClick:function(t){return e.handleSubmit(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}}]),t}(r.a.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).currentPage=e.mainParent.state.currentPage,a.data=e.data,a.data_parent=e.parent,a.editWindowClose=a.editWindowClose.bind(Object(b.a)(a)),a.editWindowShow=a.editWindowShow.bind(Object(b.a)(a)),a.initalState={showEditModal:!1,delFormData:{titleLink:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",titleForm:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442 \u0438\u0437 \u0411\u0414",url:a.data.url,cardName:a.data.name},editFormData:{titleLink:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",titleForm:"\u0411\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442",url:a.data.url,fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430",placeholder:"\u0418\u0418\u0421",required:!0,type:"text",value:a.data.name},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:a.data.comment}]}},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editWindowClose",value:function(){this.setState(this.initalState)}},{key:"editWindowShow",value:function(){this.setState({showEditModal:!0})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{border:"secondary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,null,this.data.name)),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Subtitle,{className:"mb-2 text-muted"},"\u0411\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442: ",this.data.region_name),r.a.createElement(y.a.Text,null,this.data.comment)),r.a.createElement(y.a.Footer,{className:"text-muted"},r.a.createElement(F,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/edit_32x32.gif",style:{marginRight:5}}),formData:this.state.editFormData,data_parent:this.data_parent}),r.a.createElement(x,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/delete_32x32.gif",style:{marginRight:5}}),formData:this.state.delFormData,data_parent:this.data_parent}))))}}]),t}(r.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).mainParent=e.mainParent,a.initialState={cards:[]},a.state=a.initialState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=this;fetch("api/brokerage_accounts.json").then((function(e){if(200===e.status)return e.json();t.resetState()})).then((function(e){e&&(t.setState({cards:[]}),t.setState({cards:e}))})).then((function(a){a&&(t.resetState(),e.setState({error:a}))})).catch((function(e){console.log("parsing failed",e),t.resetState()}))}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.state.cards.map((function(t){return r.a.createElement(C,{key:t.url,data:t,mainParent:e.mainParent,parent:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(w,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0431\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442",url:"api/brokerage_accounts.json",fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043a\u0435\u0440\u0441\u043a\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430",placeholder:"\u0418\u0418\u0421",required:!0,type:"text",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},parent:e,mainParent:e.mainParent}),t))}}]),t}(r.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).currentPage=e.mainParent.state.currentPage,a.data=e.data,a.data_parent=e.parent,a.editWindowClose=a.editWindowClose.bind(Object(b.a)(a)),a.editWindowShow=a.editWindowShow.bind(Object(b.a)(a)),a.initalState={showEditModal:!1,delFormData:{titleLink:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",titleForm:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430 \u0438\u0437 \u0411\u0414",url:a.data.url,cardName:a.data.name},editFormData:{titleLink:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",titleForm:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",url:a.data.url,fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",placeholder:'\u041e\u041e\u041e "\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"',required:!0,type:"text",value:a.data.name},{name:"regions",label:"\u0420\u0435\u0433\u0438\u043e\u043d",fields:{id:"url",name:"munitipal_name"},required:!1,type:"select",url:"api/region_fias.json?only_name=true",value:a.data.regions},{name:"ogrn",label:"\u041e\u0413\u0420\u041d",placeholder:"1234567890123",required:!1,type:"text",value:a.data.ogrn},{name:"site",label:"\u0421\u0430\u0439\u0442 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",required:!1,type:"url",value:a.data.site},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:a.data.comment}]}},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editWindowClose",value:function(){this.setState(this.initalState)}},{key:"editWindowShow",value:function(){this.setState({showEditModal:!0})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{border:"secondary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,null,this.data.name)),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Subtitle,{className:"mb-2 text-muted"},"\u0420\u0435\u0433\u0438\u043e\u043d: ",this.data.region_name),r.a.createElement(y.a.Text,null,this.data.comment)),r.a.createElement(y.a.Footer,{className:"text-muted"},r.a.createElement(F,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/edit_32x32.gif",style:{marginRight:5}}),formData:this.state.editFormData,data_parent:this.data_parent}),r.a.createElement(x,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/delete_32x32.gif",style:{marginRight:5}}),formData:this.state.delFormData,data_parent:this.data_parent}))))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).mainParent=e.mainParent,a.initialState={cards:[]},a.state=a.initialState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=this;fetch("api/issuers.json").then((function(e){if(200===e.status)return e.json();t.resetState()})).then((function(e){e&&(t.setState({cards:[]}),t.setState({cards:e}))})).then((function(a){a&&(t.resetState(),e.setState({error:a}))})).catch((function(e){console.log("parsing failed",e),t.resetState()}))}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.state.cards.map((function(t){return r.a.createElement(O,{key:t.url,data:t,mainParent:e.mainParent,parent:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(w,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",url:"api/issuers.json",fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",placeholder:'\u041e\u041e\u041e "\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"',required:!0,type:"text",value:""},{name:"regions",label:"\u0420\u0435\u0433\u0438\u043e\u043d",fields:{id:"url",name:"munitipal_name"},required:!1,type:"select",url:"api/region_fias.json?only_name=true",value:""},{name:"ogrn",label:"\u041e\u0413\u0420\u041d",placeholder:"1234567890123",required:!1,type:"text",value:""},{name:"site",label:"\u0421\u0430\u0439\u0442 \u044d\u043c\u0438\u0442\u0435\u043d\u0442\u0430",required:!1,type:"url",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},parent:e,mainParent:e.mainParent}),t))}}]),t}(r.a.Component),D=a(88),q=a(90),V=a(89),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).currentPage=e.mainParent.state.currentPage,a.data=e.data,a.data_parent=e.parent,a.editWindowClose=a.editWindowClose.bind(Object(b.a)(a)),a.editWindowShow=a.editWindowShow.bind(Object(b.a)(a)),a.initalState={showEditModal:!1,delFormData:{titleLink:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",titleForm:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424) \u0438\u0437 \u0411\u0414",url:a.data.url,cardName:a.data.munitipal_name},editFormData:{titleLink:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",titleForm:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424)",url:a.data.url,fields:[{name:"munitipal_name",label:"\u041c\u0443\u043d\u0438\u0446\u0438\u043f\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",required:!0,type:"text",value:a.data.munitipal_name},{name:"administrative_name",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433 \u0433\u043e\u0440\u043e\u0434",required:!1,type:"text",value:a.data.administrative_name},{name:"okato_code",label:"\u041a\u043e\u0434 \u041e\u041a\u0410\u0422\u041e",placeholder:"40000000000",required:!1,type:"text",value:a.data.okato_code},{name:"oktmo_code",label:"\u041a\u043e\u0434 \u041e\u041a\u0422\u041c\u041e",placeholder:"40000000",required:!1,type:"text",value:a.data.oktmo_code},{name:"postcode",label:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",placeholder:"190000",required:!1,type:"text",value:a.data.postcode},{name:"state_uuid",label:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u043c \u0440\u0435\u0435\u0441\u0442\u0440\u0435",placeholder:"C2DEB16A-0330-4F05-821F-1D09C93331E6",required:!1,type:"text",value:a.data.state_uuid},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:a.data.comment}]}},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editWindowClose",value:function(){this.setState(this.initalState)}},{key:"editWindowShow",value:function(){this.setState({showEditModal:!0})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{border:"secondary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,null,this.data.munitipal_name)),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Subtitle,{className:"mb-2 text-muted"},this.data.administrative_name),r.a.createElement(y.a.Text,null,this.data.comment)),r.a.createElement(y.a.Footer,{className:"text-muted"},r.a.createElement(F,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/edit_32x32.gif",style:{marginRight:5}}),formData:this.state.editFormData,data_parent:this.data_parent}),r.a.createElement(x,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/delete_32x32.gif",style:{marginRight:5}}),formData:this.state.delFormData,data_parent:this.data_parent}))))}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).mainParent=e.mainParent,a.initialState={cards:[]},a.state=a.initialState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=this;fetch("api/region_fias.json").then((function(e){if(200===e.status)return e.json();t.resetState()})).then((function(e){e&&(t.setState({cards:[]}),t.setState({cards:e}))})).then((function(a){a&&(t.resetState(),e.setState({error:a}))})).catch((function(e){console.log("parsing failed",e),t.resetState()}))}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=r.a.createElement(V.a,{id:"popover-basic",title:"\u041f\u043e\u043b\u0435\u0437\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",style:{maxWidth:"75%"}},"\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u0445 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435 \u0424\u0418\u0410\u0421. \u0410\u0440\u0445\u0438\u0432 \u043f\u043e\u043b\u043d\u043e\u0439 \u0431\u0430\u0437\u044b \u0430\u0434\u0440\u0435\u0441\u043e\u0432 ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://fias.nalog.ru/"},r.a.createElement("strong",null,"\u0424\u0418\u0410\u0421"))," \u0432\u0435\u0441\u0438\u0442 6 \u0413\u0431, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0435\u0451 \u043f\u043e\u043b\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u0437\u043d\u0430\u043d\u0430 \u043d\u0435\u0446\u0435\u043b\u0435\u0441\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u043e\u0439."),a=this.state.cards.map((function(t){return r.a.createElement(W,{key:t.url,data:t,mainParent:e.mainParent,parent:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement((function(){return r.a.createElement("div",{className:"row justify-content-end",style:{margin:"5px"}},r.a.createElement(q.a,{trigger:"click",placement:"left",overlay:t},r.a.createElement(d.a,{variant:"light"},r.a.createElement(D.a,{src:"static/images/icons/info_16x16.gif"}))))}),null),r.a.createElement(E.a,null,r.a.createElement(w,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0433\u0438\u043e\u043d",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u0435\u0433\u0438\u043e\u043d (\u0441\u0443\u0431\u044a\u0435\u043a\u0442 \u0420\u0424)",url:"api/region_fias.json",fields:[{name:"munitipal_name",label:"\u041c\u0443\u043d\u0438\u0446\u0438\u043f\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",required:!0,type:"text",value:""},{name:"administrative_name",label:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",placeholder:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433 \u0433\u043e\u0440\u043e\u0434",required:!1,type:"text",value:""},{name:"okato_code",label:"\u041a\u043e\u0434 \u041e\u041a\u0410\u0422\u041e",placeholder:"40000000000",required:!1,type:"text",value:""},{name:"oktmo_code",label:"\u041a\u043e\u0434 \u041e\u041a\u0422\u041c\u041e",placeholder:"40000000",required:!1,type:"text",value:""},{name:"postcode",label:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",placeholder:"190000",required:!1,type:"text",value:""},{name:"state_uuid",label:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432 \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u043c \u0440\u0435\u0435\u0441\u0442\u0440\u0435",placeholder:"C2DEB16A-0330-4F05-821F-1D09C93331E6",required:!1,type:"text",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},parent:e,mainParent:e.mainParent}),a))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).currentPage=e.mainParent.state.currentPage,a.data=e.data,a.data_parent=e.parent,a.editWindowClose=a.editWindowClose.bind(Object(b.a)(a)),a.editWindowShow=a.editWindowShow.bind(Object(b.a)(a)),a.initalState={showEditModal:!1,delFormData:{titleLink:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",titleForm:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433 \u0438\u0437 \u0411\u0414",url:a.data.url,cardName:a.data.name},editFormData:{titleLink:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",titleForm:"\u0422\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433",url:a.data.url,fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433",placeholder:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438",required:!0,type:"text",value:a.data.name},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:a.data.comment}]}},a.state=a.initalState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editWindowClose",value:function(){this.setState(this.initalState)}},{key:"editWindowShow",value:function(){this.setState({showEditModal:!0})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{border:"secondary",style:{maxWidth:"640px",minWidth:"290px",marginBottom:"10px"}},r.a.createElement(y.a.Header,null,r.a.createElement(y.a.Title,null,this.data.name)),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Subtitle,{className:"mb-2 text-muted"},"\u0422\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433: ",this.data.region_name),r.a.createElement(y.a.Text,null,this.data.comment)),r.a.createElement(y.a.Footer,{className:"text-muted"},r.a.createElement(F,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/edit_32x32.gif",style:{marginRight:5}}),formData:this.state.editFormData,data_parent:this.data_parent}),r.a.createElement(x,{currentPage:this.currentPage,icon:r.a.createElement(y.a.Img,{variant:"null",src:"/static/images/icons/delete_32x32.gif",style:{marginRight:5}}),formData:this.state.delFormData,data_parent:this.data_parent}))))}}]),t}(r.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).mainParent=e.mainParent,a.initialState={cards:[]},a.state=a.initialState,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=this;fetch("api/securities_types.json").then((function(e){if(200===e.status)return e.json();t.resetState()})).then((function(e){e&&(t.setState({cards:[]}),t.setState({cards:e}))})).then((function(a){a&&(t.resetState(),e.setState({error:a}))})).catch((function(e){console.log("parsing failed",e),t.resetState()}))}},{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.state.cards.map((function(t){return r.a.createElement(L,{key:t.url,data:t,mainParent:e.mainParent,parent:e})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(w,{key:"add",addCardData:{titleCard:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433",titleForm:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433",url:"api/securities_types.json",fields:[{name:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0446\u0435\u043d\u043d\u044b\u0445 \u0431\u0443\u043c\u0430\u0433",placeholder:"\u041e\u0431\u043b\u0438\u0433\u0430\u0446\u0438\u0438",required:!0,type:"text",value:""},{name:"comment",label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",required:!1,type:"textarea",rows:"3",value:""}]},parent:e,mainParent:e.mainParent}),t))}}]),t}(r.a.Component);var B=function(e){var t=e.mainParent;if(!0===t.state.isLogin){if("#brokerage_accounts"===t.state.currentPage)return r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(_,{mainParent:t}));if("#issuers"===t.state.currentPage)return r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(P,{mainParent:t}));if("#regions"===t.state.currentPage)return r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(N,{mainParent:t}));if("#securities_types"===t.state.currentPage)return r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(M,{mainParent:t}))}return"#home"===t.state.currentPage||""===t.state.currentPage?r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(N,{mainParent:t})):r.a.createElement("main",{className:"container-fluid flex-grow-1"},r.a.createElement(g.a,{variant:"danger"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 \u0438\u043b\u0438 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b."))},T=r.a.createElement("footer",{className:"blockquote-footer container-fluid"},"\u0421\u043e\u0437\u0434\u0430\u043d\u043e ",r.a.createElement("cite",{title:"\u0418\u0432\u0430\u043d \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u0438\u0447 \u0413\u043e\u043b\u0443\u0431\u044b\u0445"},"\u0418\u0432\u0430\u043d\u043e\u043c \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u0438\u0447\u0435\u043c \u0413\u043e\u043b\u0443\u0431\u044b\u0445"),", 2019. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ivangolubykh/mmvb_accounting_backend"},"\u0442\u0443\u0442"),", \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/ivangolubykh/mmvb_accounting_frontend/blob/master/LICENSE"},"GNU GPL v3.0"),"."),I={currentPage:"",isLoaded:!1,isLogin:!1,loginUrl:"api-auth/login/",logoutUrl:"api-auth/logout/",userName:""},R=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e)),I.currentPage=window.location.hash||"#home",a.state=I,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"resetState",value:function(){this.setState(I)}},{key:"componentDidMount",value:function(){var e=this,t=this;fetch("api/get_session_data/current.json").then((function(e){if(200===e.status)return e.json();t.resetState()})).then((function(t){t&&(e.setState({isLoaded:!0}),e.setState({isLogin:!0}),e.setState({userName:t.first_name}),e.setState({items:t}))})).then((function(a){a&&(t.resetState(),e.setState({error:a}))})).catch((function(e){console.log("parsing failed",e),t.resetState()}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex flex-column min-vh-100"},r.a.createElement(v,{mainParent:this}),r.a.createElement(B,{mainParent:this}),T)}}]),t}(r.a.Component);l.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},38:function(e,t,a){},59:function(e,t,a){},91:function(e,t,a){e.exports=a(117)}},[[91,1,2]]]);
//# sourceMappingURL=main.8c2ff29a.chunk.js.map